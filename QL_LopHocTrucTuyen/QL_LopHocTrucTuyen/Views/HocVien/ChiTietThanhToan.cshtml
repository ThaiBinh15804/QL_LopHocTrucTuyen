@using System.Globalization;
@model List<QL_LopHocTrucTuyen.Models.KhoaHoc>

<div class="container mt-4">
    <h2 class="mb-4">Thanh toán</h2>
    @if (TempData["Message"] != null)
    {
        <div class="alert alert-info">@TempData["Message"]</div>
    }

    <div class="row">
        <!-- Thông tin đặt hàng -->
        <div class="col-md-8">
            <h4 class="mb-3">Thông tin đặt hàng</h4>
            <div class="table-responsive">
                <table class="table">
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr class="align-items-center">
                                <td>
                                    <div class="d-flex align-items-center">
                                        <img src="~/Content/HocVien/Images/@item.AnhBia" alt="@item.TenKhoaHoc" class="img-thumbnail me-3" style="width: 60px; height: 60px;">
                                        <span>@item.TenKhoaHoc</span>
                                    </div>
                                </td>
                                <td class="text-end">@String.Format(CultureInfo.InvariantCulture, "{0:N0} đ", item.Gia)</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Tóm tắt thanh toán -->
        <div class="col-md-4">
            <div class="border rounded p-3 bg-light">
                <h4 class="mb-3">Tóm tắt</h4>
                <div class="d-flex justify-content-between">
                    <span>Giá gốc</span>
                    <span>@String.Format(CultureInfo.InvariantCulture, "{0:N0} đ", ViewBag.TongChiPhi)</span>
                </div>
                <div class="d-flex justify-content-between fw-bold mt-2">
                    <span>Tổng</span>
                    <span>@String.Format(CultureInfo.InvariantCulture, "{0:N0} đ", ViewBag.TongChiPhi)</span>
                </div>

                <!-- Form hoàn tất thanh toán -->
                <form action="@Url.Action("HoanTatThanhToan", "HocVien")" method="post">
                    <button type="submit" class="btn btn-primary w-100 mt-3">Hoàn tất thanh toán</button>
                </form>
                <p class="text-center text-muted mt-2 mb-0">Đảm bảo hoàn tiền trong 30 ngày</p>
            </div>
        </div>
    </div>
</div>
